<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Laravel Master CRUD</title>
  </head>
  <body>
    <h1>Laravel Master CRUD</h1>
    <h2>作成するテーブル</h2>
    <input type="text" id="table-name" placeholder="テーブル名を入力" />
    <input
      type="text"
      id="table-comment"
      placeholder="コメントを入力（任意）
    "
    />
    <button id="create-migration">OK</button>

    <!-- マイグレーションファイル生成コマンド -->
    <div id="make-migration-file-command-section">
      <span class="one-line-code" id="make-migration-file-command"></span>
      <button id="copy-make-migration-file-command">コピー</button>
    </div>

    <!-- カラム設定 -->
    <h3 id="columns-section-title">カラム</h3>
    <div id="columns-table-section">
      <table id="columns-table">
        <thead>
          <tr>
            <th>カラム名</th>
            <th>データ型</th>
            <th>長さ</th>
            <th>NULL 許可</th>
            <th>デフォルト値</th>
            <th>コメント</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="columns-table-body">
          <tr>
            <td>
              <input type="text" class="column-name" placeholder="カラム名" />
            </td>
            <td>
              <select class="column-data-type" title="データ型">
                <option value="string">string</option>
                <option value="integer">integer</option>
                <option value="text">text</option>
                <option value="boolean">boolean</option>
                <option value="date">date</option>
                <option value="datetime">datetime</option>
                <option value="float">float</option>
                <option value="decimal">decimal</option>
              </select>
            </td>
            <td>
              <input
                type="number"
                class="column-data-length"
                placeholder="データの長さ"
              />
            </td>
            <td>
              <input type="checkbox" class="column-nullable" title="NULL許可" />
            </td>
            <td>
              <input
                type="text"
                class="column-default-value"
                placeholder="デフォルト値"
              />
            </td>
            <td>
              <input
                type="text"
                class="column-comment"
                placeholder="コメント"
              />
            </td>
            <td><button class="remove-column">削除</button></td>
          </tr>
        </tbody>
      </table>
      <button id="add-column">カラム追加</button>
      <button id="generate-table-definition-template">完了</button>
    </div>

    <!-- マイグレーションファイル内のカラム定義と削除テンプレート -->
    <div id="table-definition-template-section">
      <div class="code-block"><pre id="table-definition-template"></pre></div>
      <button id="copy-table-definition-template">コピー</button>

      <div class="code-block"><pre id="table-drop-template"></pre></div>
      <button id="copy-table-drop-template">コピー</button>
    </div>

    <!-- モデルクラス -->
    <div id="model-class-section">
      <h2>モデルクラス</h2>
      <!-- モデルクラスの cast と fillable 設定テーブル -->
      <div id="model-class-attributes-table-section">
        <table id="model-class-attributes-table">
          <thead>
            <tr>
              <th>カラム</th>
              <th>cast</th>
              <th>fillable</th>
            </tr>
          </thead>
          <tbody id="model-class-attributes-table-body"></tbody>
        </table>
        <button id="generate-model-class-attributes-template">完了</button>
      </div>

      <!-- モデルクラス内の SoftDeletes と cast と fillable 設定テンプレート -->
      <div id="model-class-attributes-template-section">
        <div id="model-soft-deletes-attribute-section">
          <span class="one-line-code" id="model-soft-deletes-attribute"
            >use SoftDeletes;</span
          >
          <button id="copy-model-soft-deletes-attribute">コピー</button>
        </div>

        <div class="code-block"><pre id="model-casts-attribute"></pre></div>
        <button id="copy-model-casts-attribute">コピー</button>

        <div class="code-block"><pre id="model-fillables-attribute"></pre></div>
        <button id="copy-model-fillables-attribute">コピー</button>
      </div>
    </div>

    <!-- jQuery の読み込み -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
